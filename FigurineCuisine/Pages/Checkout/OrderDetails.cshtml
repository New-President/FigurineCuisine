@page
@using Microsoft.AspNetCore.Identity
@using FigurineCuisine.Models
@model FigurineCuisine.Pages.Checkout.OrderDetailsModel
@inject SignInManager<ApplicationUser> SignInManager
@{
    ViewData["Title"] = "Check Out";
}

<div class="container">
    <h1>Credit Card Details</h1>
    <form method="post">
        <div asp-validation-summary="All" class="text-danger"></div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label" asp-for="Input.Date">Purchased Date:</label>
            <label class="col-sm-2 col-form-label">@DateTime.Now.ToString("MM/dd/yyyy hh:mm tt")</label>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label" asp-for="Input.CreditCard">Payment:</label>
            <select asp-for="Input.CreditCard" asp-items="@Html.GetEnumSelectList(typeof(FigurineCuisine.Pages.Checkout.OrderDetailsModel.CreditCard))">
            </select>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label" asp-for="Input.CardNumber">Card Number:</label>
            <input asp-for="Input.CardNumber" type="text" />
            <span class="text-danger" asp-validation-for="Input.CardNumber"></span>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label" asp-for="Input.Name">Name on Card:</label>
            <input asp-for="Input.Name" type="text" >
            <span class="text-danger" asp-validation-for="Input.Name"></span>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label" asp-for="Input.ExpiryDate">Expiry date:</label>
            <input id="myDate" asp-for="Input.ExpiryDate" type="month" onclick="dateFunction()" >
            <span class="text-danger" asp-validation-for="Input.ExpiryDate"></span>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label" asp-for="Input.SecurityCode">Security code:</label>
            <input asp-for="Input.SecurityCode" type="password" >
            <span class="text-danger" asp-validation-for="Input.SecurityCode"></span>
        </div>
        @if (Model.appUser.TwoFactorEnabled)
        {
        <div class="form-group row">
            <label class="col-sm-2 col-form-label" asp-for="Input.TwoFactorCode">Authentication Code</label>
            <input asp-for="Input.TwoFactorCode" class="form-control" autocomplete="off" />
            <span asp-validation-for="Input.TwoFactorCode" class="text-danger"></span>
        </div>
        }

        <div class="text-right">
            <a href="/Checkout/Cart" class="btn btn-outline-warning" role="button">Return to Cart</a>
            <button type="submit" class="btn btn-outline-success">Complete Order</button>
        </div>
    </form>
</div>